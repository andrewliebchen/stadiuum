<head>
  <title>Stadiuuum</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>

<body>
  <div class="container">
    <header class="header">
      <div class="pull-right">
        {{> loginButtons}}
        <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#newStory">New story</button>
      </div>
    </header>
    {{> current}}
    {{> backlog}}
  </div>

  {{> newStory}}
</body>

<template name="current">
  <section class="panel panel-default">
    <header class="panel-heading">
      Current
    </header>
    <ul class="list-group">
      {{#each story}}
        {{> storyItem}}
      {{/each}}
    </ul>
  </section>
</template>

<template name="backlog">
  <section class="panel panel-default">
    <header class="panel-heading">
      Backlog
    </header>
    <ul class="list-group">
      {{#each story}}
        {{> storyItem}}
      {{/each}}
    </ul>
  </section>
</template>

<template name="storyItem">
  <li class="story list-group-item">
    <div class="story-title">
      {{title}}
    </div>
    <div class="story-options">
      <div class="pull-left">
        <button type="button" class="btn btn-default btn-sm mtr_upvote-story">
          {{priority}}<span class="glyphicon glyphicon-thumbs-up"></span>
        </button>
        <button type="button" class="btn btn-default btn-sm">Unassigned</button>
        <button type="button" class="btn btn-default btn-sm">0 points</button>
        <button type="button" class="btn btn-default btn-sm">No discussion</button>
      </div>
      <div class="pull-right">
        <button type="button" class="btn btn-default btn-sm mtr_move-story">Move to current</button>
        <button type="button" class="btn btn-primary btn-sm">Start</button>
      </div>
    </div>
  </li>
</template>

<template name="storyLoe">
  <div class="story-loe dropdown pull-left">
    <button type="button" class="btn btn-default btn-xs" data-toggle="dropdown">
      {{averageLoe}} points
    </button>
    <ul class="dropdown-menu" role="menu">
      <li><a class="mtr_toggle-loe" data-loe="0">Unestimated</a></li>
      <li><a class="mtr_toggle-loe" data-loe="1">1 point</a></li>
      <li><a class="mtr_toggle-loe" data-loe="2">2 points</a></li>
      <li><a class="mtr_toggle-loe" data-loe="4">4 points</a></li>
      <li><a class="mtr_toggle-loe" data-loe="8">8 points</a></li>
    </ul>
  </div>
</template>

<template name="newStory">
  <div class="modal fade" id="newStory" tabindex="-1" role="dialog" aria-labelledby="newStoryLabel" aria-hidden="true">
    <div class="modal-dialog">
      <div class="modal-content">
        <div class="modal-header">
          <h4 class="modal-title" id="newStoryLabel">Add a new story</h4>
        </div>
        <div class="modal-body">
          <div class="form-group">
            <label class="control-label">Story title</label>
            <input type="text" id="mtr_newStoryTitle" class="form-control">
          </div>
        </div>
        <div class="modal-footer">
          <button type="submit" id="mtr_addStory" class="btn btn-primary">Add story</button>
        </div>
      </div>
    </div>
  </div>
</template>

